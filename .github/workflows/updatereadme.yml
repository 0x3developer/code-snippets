#This file should not be edited by Code-Snippets contributors. Any edits to this page will result in a rejected pull request.

name: Get leaderboard
on:
  schedule:
    - cron: '0,30 0-23 * * *'
  workflow_dispatch:
jobs:
  deployment:
    runs-on: ubuntu-latest
    steps:
    - name: Contact DPR
      id: leaderboardRequest
      uses: fjogeleit/http-request-action@v1.8.1
      with:
        url: 'https://devprogramresourcesdev.service-now.com/api/x_snc_code_snippet/code_snippets/leaderboard'
        method: 'GET'
        contentType: application/json
        username: ${{ secrets.DPRD_USERNAME }}
        password: ${{ secrets.DPRD_PASSWORD }}
    - name: Write File
      uses: DamianReeves/write-file-action@v1.0
      with:
        path: ${{ github.repository }}/README.md
        contents: |
          This file is automatically generated and should not be edited by contributors.
          ${{ steps.leaderboardRequest.outputs.response }}
        write-mode: overwrite
